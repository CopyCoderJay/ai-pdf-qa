{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sanja\\\\Pdfc\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send, AlertCircle, Plus } from 'lucide-react';\nimport axios from 'axios';\n\n// Add your Gemini API key here\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GEMINI_API_KEY = \"AIzaSyAVnKwouHnPokho-KTK7KaEWQ4-1VuXm1g\";\nconst GEMINI_API_URL = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent\";\nconst ChatInterface = ({\n  conversationHistory,\n  onNewMessage,\n  documentInfo,\n  suggestedQuestion,\n  onSuggestedQuestionUsed,\n  onUploadFile,\n  backendUrl,\n  docIds\n}) => {\n  _s();\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Set suggested question when it changes\n  useEffect(() => {\n    if (suggestedQuestion) {\n      setInputMessage(suggestedQuestion);\n    }\n  }, [suggestedQuestion]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversationHistory]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n    if (!documentInfo) {\n      setError('Please upload a PDF first before asking a question.');\n      return;\n    }\n    const question = inputMessage.trim();\n    setInputMessage('');\n    setIsLoading(true);\n    setError('');\n\n    // Clear suggested question after use\n    if (suggestedQuestion && onSuggestedQuestionUsed) {\n      onSuggestedQuestionUsed();\n    }\n    try {\n      const response = await generateAIResponse(question);\n      onNewMessage(question, response);\n    } catch (err) {\n      setError(`Error getting AI response: ${err.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const generateAIResponse = async question => {\n    try {\n      if (!backendUrl || !docIds || docIds.length === 0) {\n        throw new Error('No document uploaded.');\n      }\n      const res = await axios.post(`${backendUrl}/query`, {\n        doc_id: docIds[docIds.length - 1],\n        question\n      }, {\n        timeout: 60000\n      });\n      if (res.data && res.data.answer) {\n        const sources = res.data.sources || [];\n        const cite = sources.map((s, i) => `[${i + 1}] p:${s.page}`).join(' ');\n        return `${res.data.answer}\\n\\nSources: ${cite}`.trim();\n      }\n      throw new Error('Invalid response from backend');\n    } catch (error) {\n      console.error('Backend Error:', error);\n      throw new Error(error.message || 'Failed to contact backend.');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const handleAttachClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleFileSelected = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file && file.type.includes('pdf') && onUploadFile) {\n      onUploadFile(file);\n    }\n    e.target.value = '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 h-96 overflow-y-auto\",\n      children: conversationHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-500 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: documentInfo ? 'Start asking questions about your PDF document!' : 'Please upload a PDF first to begin chatting.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [conversationHistory.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-primary text-white px-4 py-2 rounded-2xl rounded-br-md max-w-xs lg:max-w-md\",\n              children: message.question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-start mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 text-gray-800 px-4 py-2 rounded-2xl rounded-bl-md max-w-xs lg:max-w-md\",\n              children: message.answer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-400 text-center mb-4\",\n            children: message.timestamp.toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 text-gray-800 px-4 py-2 rounded-2xl rounded-bl-md\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"AI is thinking...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 pb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"text-red-500\",\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-700 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t p-4 bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-3xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-2xl border shadow-sm px-3 py-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: inputMessage,\n              onChange: e => setInputMessage(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: \"Ask anything\",\n              className: \"flex-1 px-3 py-2 outline-none\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              accept: \".pdf\",\n              className: \"hidden\",\n              onChange: handleFileSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleAttachClick,\n              title: \"Attach PDF\",\n              className: \"w-9 h-9 rounded-full border bg-gray-50 hover:bg-gray-100 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendMessage,\n              disabled: !inputMessage.trim() || isLoading,\n              className: \"bg-primary hover:bg-primary/90 disabled:bg-gray-300 text-white px-4 py-2 rounded-full transition-colors flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), \"Send\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"GhedN+1JTs+FMDMUCeWFh5KqbbQ=\");\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","AlertCircle","Plus","axios","jsxDEV","_jsxDEV","GEMINI_API_KEY","GEMINI_API_URL","ChatInterface","conversationHistory","onNewMessage","documentInfo","suggestedQuestion","onSuggestedQuestionUsed","onUploadFile","backendUrl","docIds","_s","inputMessage","setInputMessage","isLoading","setIsLoading","error","setError","messagesEndRef","fileInputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","question","response","generateAIResponse","err","message","length","Error","res","post","doc_id","timeout","data","answer","sources","cite","map","s","i","page","join","console","handleKeyPress","e","key","shiftKey","preventDefault","handleAttachClick","_fileInputRef$current","click","handleFileSelected","_e$target$files","file","target","files","type","includes","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","timestamp","toLocaleTimeString","ref","size","onChange","onKeyPress","placeholder","disabled","accept","onClick","title","_c","$RefreshReg$"],"sources":["C:/Users/sanja/Pdfc/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Send, AlertCircle, Plus } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\n// Add your Gemini API key here\r\nconst GEMINI_API_KEY = \"AIzaSyAVnKwouHnPokho-KTK7KaEWQ4-1VuXm1g\";\r\nconst GEMINI_API_URL = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent\";\r\n\r\nconst ChatInterface = ({ conversationHistory, onNewMessage, documentInfo, suggestedQuestion, onSuggestedQuestionUsed, onUploadFile, backendUrl, docIds }) => {\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Set suggested question when it changes\r\n  useEffect(() => {\r\n    if (suggestedQuestion) {\r\n      setInputMessage(suggestedQuestion);\r\n    }\r\n  }, [suggestedQuestion]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [conversationHistory]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n    if (!documentInfo) {\r\n      setError('Please upload a PDF first before asking a question.');\r\n      return;\r\n    }\r\n\r\n    const question = inputMessage.trim();\r\n    setInputMessage('');\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    // Clear suggested question after use\r\n    if (suggestedQuestion && onSuggestedQuestionUsed) {\r\n      onSuggestedQuestionUsed();\r\n    }\r\n\r\n    try {\r\n      const response = await generateAIResponse(question);\r\n      onNewMessage(question, response);\r\n    } catch (err) {\r\n      setError(`Error getting AI response: ${err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateAIResponse = async (question) => {\r\n    try {\r\n      if (!backendUrl || !docIds || docIds.length === 0) {\r\n        throw new Error('No document uploaded.');\r\n      }\r\n      const res = await axios.post(`${backendUrl}/query`, {\r\n        doc_id: docIds[docIds.length - 1],\r\n        question,\r\n      }, { timeout: 60000 });\r\n      if (res.data && res.data.answer) {\r\n        const sources = res.data.sources || [];\r\n        const cite = sources.map((s, i) => `[${i + 1}] p:${s.page}`).join(' ');\r\n        return `${res.data.answer}\\n\\nSources: ${cite}`.trim();\r\n      }\r\n      throw new Error('Invalid response from backend');\r\n    } catch (error) {\r\n      console.error('Backend Error:', error);\r\n      throw new Error(error.message || 'Failed to contact backend.');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleAttachClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleFileSelected = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (file && file.type.includes('pdf') && onUploadFile) {\r\n      onUploadFile(file);\r\n    }\r\n    e.target.value = '';\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm\">\r\n      {/* Chat Messages */}\r\n      <div className=\"p-6 h-96 overflow-y-auto\">\r\n        {conversationHistory.length === 0 ? (\r\n          <div className=\"text-center text-gray-500 py-8\">\r\n            <p>{documentInfo ? 'Start asking questions about your PDF document!' : 'Please upload a PDF first to begin chatting.'}</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {conversationHistory.map((message, index) => (\r\n              <div key={index} className=\"animate-fade-in\">\r\n                {/* User Message */}\r\n                <div className=\"flex justify-end mb-3\">\r\n                  <div className=\"bg-primary text-white px-4 py-2 rounded-2xl rounded-br-md max-w-xs lg:max-w-md\">\r\n                    {message.question}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* AI Response */}\r\n                <div className=\"flex justify-start mb-3\">\r\n                  <div className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded-2xl rounded-bl-md max-w-xs lg:max-w-md\">\r\n                    {message.answer}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Timestamp */}\r\n                <div className=\"text-xs text-gray-400 text-center mb-4\">\r\n                  {message.timestamp.toLocaleTimeString()}\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {/* Loading indicator */}\r\n            {isLoading && (\r\n              <div className=\"flex justify-start mb-3\">\r\n                <div className=\"bg-gray-100 text-gray-800 px-4 py-2 rounded-2xl rounded-bl-md\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary\"></div>\r\n                    <span>AI is thinking...</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"px-6 pb-4\">\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center gap-2\">\r\n            <AlertCircle className=\"text-red-500\" size={16} />\r\n            <span className=\"text-red-700 text-sm\">{error}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Input Section - OpenAI-like composer with action chips */}\r\n      <div className=\"border-t p-4 bg-white\">\r\n        <div className=\"max-w-3xl mx-auto\">\r\n          <div className=\"rounded-2xl border shadow-sm px-3 py-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder=\"Ask anything\"\r\n                className=\"flex-1 px-3 py-2 outline-none\"\r\n                disabled={isLoading}\r\n              />\r\n              {/* Plus button to upload inside composer */}\r\n              <input ref={fileInputRef} type=\"file\" accept=\".pdf\" className=\"hidden\" onChange={handleFileSelected} />\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleAttachClick}\r\n                title=\"Attach PDF\"\r\n                className=\"w-9 h-9 rounded-full border bg-gray-50 hover:bg-gray-100 flex items-center justify-center\"\r\n              >\r\n                <Plus size={16} />\r\n              </button>\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={!inputMessage.trim() || isLoading}\r\n                className=\"bg-primary hover:bg-primary/90 disabled:bg-gray-300 text-white px-4 py-2 rounded-full transition-colors flex items-center gap-2\"\r\n              >\r\n                <Send size={16} />\r\n                Send\r\n              </button>\r\n            </div>\r\n            {/* No extra action chips here to keep only the global \"+\" uploader */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInterface;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}